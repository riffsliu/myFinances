<ui:composition
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:p="http://primefaces.org/ui"
  template="/WEB-INF/template.xhtml">
  <ui:define name="title">Empty Page</ui:define>
  <ui:define name="viewname">Empty</ui:define>
  <ui:define name="content">
    <h:form
      prependId="false"
      id="formPrincipal">
      <div class="dashboard">
        <div class="ui-g">
          <ui:include src="/contentDashboard.xhtml" />
        </div>
      </div>
      <div class="ui-g ui-fluid">
        <div class="ui-g-12">
          <div class="card card-w-title">
            <p:commandButton
              action="#{transacaoBean.listenerMesAnterior()}"
              value="Anterior"
              update="formPrincipal">
            </p:commandButton>
            <p:outputLabel
              value="#{transacaoBean.mesAnoSelecionado}"
              styleClass="box-title" />
            <p:commandButton
              action="#{transacaoBean.listenerMesProximo()}"
              value="Proximo"
              update="formPrincipal">
            </p:commandButton>
          </div>
        </div>
      </div>
      <div class="ui-g ui-fluid">
        <div class="ui-g-12">
          <div class="card card-w-title">
            <h1>Transactions</h1>
            <p:dataTable
              id="transactionDataTable"
              var="item"
              value="#{transacaoBean.listTransacaoVO}">
              <f:facet name="header">
              </f:facet>
              <p:column headerText="Id">
                <h:outputText value="#{item.idTransacao}" />
              </p:column>
              <p:column headerText="Data">
                <h:outputText value="#{item.dataTransacao}" />
              </p:column>
              <p:column headerText="Descrição">
                <h:outputText value="#{item.descricaoTransacao}" />
              </p:column>
              <p:column headerText="Descrição Personalizada">
                <h:outputText value="#{item.descricaoPersonalizada}" />
              </p:column>
              <p:column headerText="Valor">
                <h:outputText
                  value="#{item.valorTransacao}"
                  style="color:red"
                  rendered="#{!transacaoBean.renderizaCssValorPositivo(item.valorTransacao)}" />
                <h:outputText
                  value="#{item.valorTransacao}"
                  rendered="#{transacaoBean.renderizaCssValorPositivo(item.valorTransacao)}" />
              </p:column>
              <p:column headerText="Saldo">
                <h:outputText
                  value="#{item.saldoDia}"
                  style="color:red"
                  rendered="#{!transacaoBean.renderizaCssValorPositivo(item.valorTransacao)}" />
                <h:outputText
                  value="#{item.saldoDia}"
                  rendered="#{transacaoBean.renderizaCssValorPositivo(item.valorTransacao)}" />
              </p:column>
              <p:column headerText="Categoria">
                <h:outputText value="#{item.categoriaVO.descricaoCategoria}" />
              </p:column>
              <p:column headerText="Ações">
                <p:panelGrid
                  columns="1"
                  styleClass="form-group ui-panelgrid-blank"
                  layout="grid">
                  <p:commandButton
                    value="Remover"
                    actionListener="#{transacaoBean.listenerRemover(item)}"
                    styleClass="btn btn-primary">
                  </p:commandButton>
                </p:panelGrid>
              </p:column>
            </p:dataTable>
          </div>
        </div>
      </div>
    </h:form>
  </ui:define>
</ui:composition>